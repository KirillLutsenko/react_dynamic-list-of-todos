{"version":3,"sources":["types.jsx","components/Todo/Todo.jsx","components/TodoList/TodoList.jsx","api/api.jsx","components/CurrentUser/CurrentUser.jsx","App.jsx","index.js"],"names":["todosType","PropTypes","arrayOf","shape","userId","number","id","title","string","completed","bool","todoType","classNames","isRequired","func","require","Todo","todo","selectUser","isSelectedUser","className","TodoList__item","key","type","readOnly","button","onClick","TodoList","state","search","filteredTodos","filter","all","active","handleChange","event","setState","target","name","value","filterByTitle","toLowerCase","includes","filterByStatus","this","props","todos","selectedUserId","visibleTodos","placeholder","onChange","map","React","PureComponent","request","url","options","fetch","then","result","ok","Error","status","statusText","json","data","CurrentUser","user","updateUser","newUserId","newUser","catch","clearSelectedUser","email","phone","App","Component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.622f5260.chunk.js","sourcesContent":["import PropTypes from 'prop-types';\n\nconst todosType = PropTypes.arrayOf(PropTypes.shape({\n  userId: PropTypes.number,\n  id: PropTypes.number,\n  title: PropTypes.string,\n  completed: PropTypes.bool,\n}));\n\nconst todoType = PropTypes.shape({\n  userId: PropTypes.number,\n  id: PropTypes.number,\n  title: PropTypes.string,\n  completed: PropTypes.bool,\n});\n\nexport const todoListType = {\n  todos: todosType.isRequired,\n  selectedUserId: PropTypes.number.isRequired,\n  onButtonClick: PropTypes.func.isRequired,\n};\n\nexport const TodoType = {\n  todo: todoType.isRequired,\n  isSelectedUser: PropTypes.bool.isRequired,\n  onButtonClick: PropTypes.func.isRequired,\n};\n\nexport const currentUserType = {\n  userId: PropTypes.number.isRequired,\n  onButtonClick: PropTypes.func.isRequired,\n};\n","import React from 'react';\nimport { TodoType } from '../../types';\n\nconst classNames = require('classnames');\n\nexport const Todo = ({ todo, selectUser, isSelectedUser }) => (\n  <li\n    className={classNames({\n      TodoList__item: true,\n      'TodoList__item--checked': todo.completed,\n      'TodoList__item--unchecked': !todo.completed,\n    })}\n    key={todo.id}\n  >\n    <label>\n      <input type=\"checkbox\" readOnly />\n      <p>{todo.title}</p>\n    </label>\n\n    <button\n      className={classNames({\n        'TodoList__user-button': true,\n        'TodoList__user-button--selected': isSelectedUser,\n        button: true,\n      })}\n      type=\"button\"\n      onClick={() => selectUser(todo.userId)}\n    >\n      {`User #${todo.userId}`}\n    </button>\n  </li>\n);\n\nTodo.propTypes = TodoType;\n","import React from 'react';\nimport { todoListType } from '../../types';\nimport { Todo } from '../Todo';\nimport './TodoList.scss';\n\nexport class TodoList extends React.PureComponent {\n  state = {\n    search: '',\n    filteredTodos: 'all',\n  }\n\n  filter = {\n    all: () => true,\n    completed: todo => todo.completed,\n    active: todo => !todo.completed,\n  }\n\n  handleChange = (event) => {\n    this.setState({\n      [event.target.name]: event.target.value,\n    });\n  }\n\n  filterByTitle = (todo) => {\n    const { search } = this.state;\n\n    if (todo.title === null) {\n      return false;\n    }\n\n    return todo.title.toLowerCase()\n      .includes(search.toLowerCase());\n  }\n\n  filterByStatus = (todo) => {\n    const { filteredTodos } = this.state;\n\n    if (filteredTodos === 'completed') {\n      return todo.completed;\n    }\n\n    if (filteredTodos === 'active') {\n      return !todo.completed;\n    }\n\n    return true;\n  }\n\n  render() {\n    const { todos, selectedUserId, selectUser } = this.props;\n    const { search, filteredTodos } = this.state;\n\n    const visibleTodos = todos\n      .filter(this.filterByTitle)\n      .filter(this.filterByStatus);\n\n    return (\n      <div className=\"TodoList\">\n        <h2>Todos:</h2>\n\n        <input\n          name=\"search\"\n          placeholder=\"Type search task\"\n          className=\"input is-primary\"\n          value={search}\n          onChange={this.handleChange}\n        />\n\n        <div>\n          <div className=\"select\">\n            <select\n              name=\"filteredTodos\"\n              value={filteredTodos}\n              onChange={this.handleChange}\n            >\n              <option value=\"all\">All</option>\n              <option value=\"completed\">Completed</option>\n              <option value=\"active\">Active</option>\n            </select>\n          </div>\n          <ul className=\"TodoList__list\">\n            {visibleTodos\n              ? (visibleTodos.map(todo => (\n                <Todo\n                  todo={todo}\n                  selectUser={selectUser}\n                  isSelectedUser={selectedUserId === todo.userId}\n                  key={todo.id}\n                />\n              )))\n              : <p>No tasks</p>}\n          </ul>\n        </div>\n      </div>\n    );\n  }\n}\n\nTodoList.propTypes = todoListType;\n","export const BASE_URL = 'https://mate-api.herokuapp.com';\n\nexport const request = (url, options) => fetch(`${BASE_URL}${url}`, options)\n  .then((result) => {\n    if (!result.ok) {\n      throw new Error(`${result.status} - ${result.statusText}`);\n    }\n\n    return result.json();\n  })\n  .then(result => result.data);\n\nexport const getTodos = () => request('/todos');\nexport const getUser = id => request(`/users/${id}`);\n","import React, { PureComponent } from 'react';\nimport './CurrentUser.scss';\n\nimport { getUser } from '../../api/api';\nimport { currentUserType } from '../../types';\n\nexport class CurrentUser extends PureComponent {\n  state = {\n    user: {},\n  }\n\n  componentDidMount() {\n    this.updateUser(this.props.userId);\n  }\n\n  componentDidUpdate({ userId }) {\n    const newUserId = this.props.userId;\n\n    if (userId !== newUserId) {\n      this.updateUser(newUserId);\n    }\n  }\n\n  updateUser(newUserId) {\n    getUser(newUserId)\n      .then((newUser) => {\n        this.setState({\n          user: newUser,\n        });\n      })\n      .catch(() => {\n        this.setState({\n          user: {},\n        });\n      });\n  }\n\n  render() {\n    const { user } = this.state;\n    const { clearSelectedUser } = this.props;\n\n    return (\n      <div className=\"CurrentUser\">\n        {user\n          ? (\n            <>\n              <h2 className=\"CurrentUser__title\">\n                <span>\n                  {`Selected user: ${user.id}`}\n                </span>\n              </h2>\n\n              <h3 className=\"CurrentUser__name\">{user.name}</h3>\n              <p className=\"CurrentUser__email\">{user.email}</p>\n              <p className=\"CurrentUser__phone\">{user.phone}</p>\n\n              <button\n                type=\"button\"\n                onClick={clearSelectedUser}\n                className=\"button clear-button\"\n              >\n                Clear\n              </button>\n            </>\n          )\n          : (\n            <p>User is not found</p>\n          )}\n      </div>\n    );\n  }\n}\n\nCurrentUser.propTypes = currentUserType;\n","import React from 'react';\nimport './App.scss';\nimport './styles/general.scss';\nimport { TodoList } from './components/TodoList';\nimport { CurrentUser } from './components/CurrentUser';\n\nimport { getTodos } from './api/api';\n\nclass App extends React.Component {\n  state = {\n    todos: [],\n    selectedUserId: 0,\n  };\n\n  componentDidMount() {\n    getTodos()\n      .then(data => data.filter(({ id, title }) => id && title))\n      .then(todos => this.setState({ todos }))\n      .catch(() => {\n        this.setState({\n          todos: null,\n        });\n      });\n  }\n\n  selectUser = (selectedUserId) => {\n    this.setState({\n      selectedUserId,\n    });\n  }\n\n  clearSelectedUser = () => {\n    this.setState({\n      selectedUserId: 0,\n    });\n  }\n\n  render() {\n    const { todos, selectedUserId } = this.state;\n\n    return (\n      <div className=\"App\">\n        <div className=\"App__sidebar\">\n          <TodoList\n            todos={todos}\n            selectedUserId={selectedUserId}\n            selectUser={this.selectUser}\n          />\n        </div>\n\n        <div className=\"App__content\">\n          <div className=\"App__content-container\">\n            {selectedUserId ? (\n              <CurrentUser\n                userId={selectedUserId}\n                clearSelectedUser={this.clearSelectedUser}\n              />\n            ) : 'No user selected'}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}